<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Awaaz | Mark as Resolved</title>
	<link rel="stylesheet" href="/static/css/dark.css" />
	<script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-[#0b0b0d] text-[#e6e6e6]">
	<div class="container max-w-3xl mx-auto px-4 py-8">
		<header class="flex items-center justify-between py-6">
			<h1 class="text-2xl font-semibold">✅ Mark Complaint as Resolved</h1>
			<a class="text-blue-400 hover:text-blue-300" href="{% url 'complaint_detail' complaint.pk %}">← Back</a>
		</header>
		{% include 'components/flash_messages.html' %}
		
		<div class="card p-6 space-y-4">
			<div class="border-b border-[#2a2a36] pb-4">
				<h2 class="text-lg font-semibold mb-2">{{ complaint.title }}</h2>
				<p class="text-sm text-zinc-400">Location: {{ complaint.location|default:"Not specified" }}</p>
				<p class="text-sm text-zinc-400">Posted by: {{ complaint.user.username }}</p>
			</div>
			
			<form method="post" class="space-y-4">
				{% csrf_token %}
				
				<div>
					<label class="block mb-2 text-zinc-300 font-medium">Resolution Comment (Optional)</label>
					<textarea name="resolution_comment" rows="4" 
						class="form-control w-full rounded-md border border-[#2a2a36] p-3 focus:border-blue-500 focus:outline-none"
						placeholder="Add details about how this issue was resolved..."></textarea>
					<p class="text-xs text-zinc-400 mt-1">This comment will be marked as a resolution comment and highlighted for users.</p>
				</div>
				
				<div class="bg-green-900/20 border border-green-700 rounded-md p-4">
					<p class="text-sm text-green-200">
						<strong>Note:</strong> Marking this complaint as resolved will:
						<ul class="list-disc list-inside mt-2 space-y-1">
							<li>Mark the complaint with a "Resolved" status</li>
							<li>Send a notification to the complaint owner</li>
							<li>Add your resolution comment (if provided) as a special resolution comment</li>
						</ul>
					</p>
				</div>
				
				<div class="flex gap-3">
					<button type="submit" class="rounded-md bg-green-600 hover:bg-green-500 px-6 py-2 font-medium">
						Mark as Resolved
					</button>
					<a href="{% url 'complaint_detail' complaint.pk %}" class="rounded-md bg-zinc-700 hover:bg-zinc-600 px-6 py-2 font-medium">
						Cancel
					</a>
				</div>
			</form>
		</div>
	</div>
</body>
</html>

